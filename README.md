편의점
=====
[요구사항 명세서](https://drive.google.com/file/d/1ZK1F66TggbzHak5quLUuW7IaErPvJYFS/view?usp=sharing)

개요
----
편의점을 운영합니다.
상품 재고와 프로모션을 파일로 입력받아 상품을 구매합니다. 
프로모션과 멤버십 할인이 존재하고 추가 구매가 가능합니다. 

기능 리스트
----

### 입력 기능
* 구매 내역
  * 구매 내역을 입력합니다. 
  * `[콜라-10],[사이다-3]`의 형태로 입력
* 여부 입력
  * 프로모션 적용 수량이 적은 경우
    * `현재 {상품명}은(는) 1개를 무료로 더 받을 수 있습니다. 추가하시겠습니까? (Y/N)`
  * 프로모션 재고가 부족하여 일부 수량을 정가로 결제하는 경우
    * `현재 {상품명} {수량}개는 프로모션 할인이 적용되지 않습니다. 그래도 구매하시겠습니까? (Y/N)`
  * 멤버십 할인 적용 여부
    * `멤버십 할인을 받으시겠습니까? (Y/N)`
  * 추가 구매 여부
    * `감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)`

### 입력값 유효성 검사 기능
> 잘못된 입력값인 경우 `IllegalArgumentException` 발생
> "[ERROR]"로 시작하는 에러 메시지 출력 후 입력을 다시 받는다.

* 구매 내역
  * `[콜라-10],[사이다-3]`의 형태를 지키지 않은 경우
  * 존재하지 않는 상품인 경우
  * 재고가 부족한 경우
* 여부 입력
  * Y 또는 N의 입력이 아닌 경우

### 재고 저장 기능
* 파일에서 재고를 읽어와 재고를 저장합니다. 
* 재고는 프로모션이 있는 상품과 없는 상품이 있습니다. 

### 프로모션 저장 기능
* 파일에서 프로모션을 읽어와 프로모션들을 저장합니다.

### 재고 확인 기능
* 구입하려는 상품들의 재고가 충분한지 확인합니다. 

### 프로모션 확인 기능
* 구입하는 상품이 프로모션이 적용가능한 지 확인합니다. 
* 프로모션이 있어도 프로모션의 기간이 지난 경우 적용되지 않습니다. 

### 프로모션 적용 개수 확인 기능
* 해당 프로모션의 적용이 가능한 개수인지 확인합니다. 
* 적은 경우 추가할 지 여부를 입력받습니다. 

### 프로모션 재고 확인 기능
* 프로모션을 적용하기에 충분한 재고인지 확인합니다. 
* 적은 경우 일반 재고로 정가 구매할 지 여부를 입력받습니다.

### 일반 재고 추가 기능
* 일반 재고를 추가로 한 경우 프로모션 재고와 프로모션 적용 개수를 제외한 개수를 일반 재고로 취급합니다. 
* 장바구니에 추가합니다. 

### 재고 차감 기능
* 구입한 상품의 개수만큼 재고를 차감합니다. 
* 추가 구매시 구매된 개수가 차감된 것이 출력됩니다. 

### 가격 및 할인 구하기 기능
* 총구매액
  * 총 구매한 금액
* 행사할인
  * 프로모션에 의해 추가로 증정받는 상품들의 가격의 총합
* 멤버십할인
  * 총구매액에서 프로모션 적용 상품 외의 일반 상품에 적용합니다. 
  * 최대 8,000원이며 30% 할인을 받습니다. 
* 내실돈
  * 총구매액에서 행사할인과 멤버십할인을 제외한 금액입니다. 

### 출력 기능
```
    안녕하세요. W편의점입니다. 현재 보유하고 있는 상품입니다.
    - 콜라 1,000원 10개 탄산2+1
    - 콜라 1,000원 10개
    - 사이다 1,000원 8개 탄산2+1
    - 사이다 1,000원7 개
    - 오렌지주스 1,800원 9개 MD추천상품
    - 오렌지주스 1,800원 재고 없음
    - 탄산수 1,200원 5개 탄산2+1
    - 탄산수 1,200원 재고 없음
    - 물 500원 10개
    - 비타민워터 1,500원 6개
    - 감자칩 1,500원 5개 반짝할인
    - 감자칩 1,500원 5개
    - 초코바 1,200원 5개 MD추천상품
    - 초코바 1,200원 5개
    - 에너지바 2,000원 5개
    - 정식도시락 6,400원 8개
    - 컵라면 1,700원 1개 MD추천상품
    - 컵라면 1,700원 10개
```
* 환영 인사 및 재고 출력
  * 프로모션이 있는 경우 프로모션도 같이 출력합니다. 
  * 일반 상품만 있는 경우는 있지만 프로모션만 있는 경우는 없습니다. 
  * 재고가 0인 경우 `재고 없음`으로 출력합니다.

```
    ===========W 편의점=============
    상품명		    수량	    금액
    콜라		        3 	    3,000
    에너지바 		    5 	    10,000
    ===========증	정=============
    콜라		        1
    ==============================
    총구매액		    8 	    13,000
    행사할인			        -1,000
    멤버십할인			        -3,000
    내실돈			         9,000
```
* 영수증 출력
  * 구입 내역
  * 증정 내역
  * 최종 가격

목표
----
* MVC 형태로 만들어 보기
  * service 없이 만들어보기
* 메소드는 10줄 이내로 작성하기
* 메소드 명 분명하게 지정하기
* else 문 사용하지 않기
* indent depth는 3이 넘지 않도록 2까지만 사용하기
* 삼항 연산자 쓰지 않기
* 상수는 Enum 활용하기